<!DOCTYPE html>

<html>

    <head>

        <meta charset="utf-8" />
        <link rel="stylesheet" href="https://openlayers.org/en/v4.4.2/css/ol.css" type="text/css">
        <link rel="stylesheet" href="css/style.css" />
        <script src="https://openlayers.org/en/v4.4.2/build/ol.js"></script>

        <title>WebSIG-CL</title>

    </head>

    <body>

      <div id=OurMap>
      </div>
      <div id=OurLegend>
        <div id=OurLegendTitle>
          Legend
        </div>
        <div id=OurLegendContent>
          <form>
            <input type="checkbox" id="roadlinesCheck" onclick="setVisibleLayers(vectorlayerroad)" checked> Roadlines <br>
            <input type="checkbox" id="regionsCheck" onclick="setVisibleLayers(vectorlayerregion)" checked> Regions<br>
          </form>
        </div>
      </div>

      <script>
        var map = new ol.Map({
          target: 'OurMap',
          view: new ol.View({
            center: ol.proj.fromLonLat([-2,12.1]),
            zoom:9,
          })
        })
        var osmlayer = new ol.layer.Tile({
          source: new ol.source.OSM()
        });
        var vectorlayerroad = new ol.layer.Vector({
        source: new ol.source.Vector({
          url: './geoData/roadlines.geojson',
          format: new ol.format.GeoJSON()
          })
        });
        var vectorlayerregion = new ol.layer.Vector({
        source: new ol.source.Vector({
          url: './geoData/limiteadminpolygon.geojson',
          format: new ol.format.GeoJSON()
          })
        });

        map.addLayer(osmlayer);
        map.addLayer(vectorlayerroad);
        map.addLayer(vectorlayerregion);

        function setVisibleLayers(thisLayer){
          if (document.getElementById("roadlinesCheck").checked) {
            vectorlayerroad.setVisible(true);
          } else {
            vectorlayerroad.setVisible(false);
          }
          if (document.getElementById("regionsCheck").checked) {
            vectorlayerregion.setVisible(true);
          } else {
            vectorlayerregion.setVisible(false);
          }

        }
      </script>

    </body>

</html>
